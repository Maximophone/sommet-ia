---
import Container from './Container.astro';
import DiamondIcon from './DiamondIcon.astro';
import Logo from './Logo.astro';
import Button from './Button.astro';
---

<style>
  @supports (animation-timeline: scroll()) {
    @media (prefers-reduced-motion: no-preference) {
      .header-blur {
        animation: header-scroll linear both;
        animation-timeline: scroll();
        animation-range: 0 200px;
      }

      @keyframes header-scroll {
        from {
          backdrop-filter: blur(0);
          background-color: rgba(255, 255, 255, 0);
        }
        to {
          backdrop-filter: blur(12px);
          background-color: rgba(255, 255, 255, 0.7);
        }
      }
    }
  }
</style>

<header class="sticky top-0 z-50 flex-none py-4 sm:p-8 header-blur">
  <Container class="sm:px-0 md:px-6">
    <div class="grid grid-cols-[1fr_auto_1fr] lg:grid-cols-[1fr_auto_1fr] items-center gap-4">
      {/* Logo - hidden on mobile */}
      <div class="hidden sm:block lg:m-0">
        <Logo class="h-16"/>
      </div>

      {/* Date - only visible on lg and up */}
      <div class="hidden lg:block whitespace-nowrap py-4 font-mono text-blue-600">
        <div class="flex items-center gap-4">
          <p>
            <time datetime="2025-02-08">8 février 2025</time>
          </p>
          <DiamondIcon class="h-1.5 w-1.5 overflow-visible fill-current stroke-current" />
          <p>Paris</p>
        </div>
      </div>

      {/* Buttons */}
      <div class="col-span-3 sm:col-start-2 sm:col-span-2 lg:col-start-3 lg:col-span-1 flex justify-between sm:justify-end gap-4 lg:m-0">
        <Button class="h-12 sm:h-auto" href="https://lu.ma/cvti999q" variant="outline">
          Voir l'événement
        </Button>
        <Button 
          href="https://coda.io/form/Formulaire-dinscription-a-l-evenement-Reprendre-le-Controle_dfk2IaQA4db" 
          class="h-12 sm:h-auto"
          variant="solid"
        >
          Candidater
        </Button>
      </div>
    </div>
  </Container>
</header> 