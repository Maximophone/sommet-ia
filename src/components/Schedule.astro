---
import { getCollection } from 'astro:content';
import Container from './Container.astro';
import BackgroundImage from './BackgroundImage.astro';
import { DaySummary } from './DaySummary';
import { TimeSlots } from './TimeSlots';
import { ScheduleTabGroup } from './ScheduleTabGroup';
import { getDays } from '../utils/get-days';

const days = await getDays();
---

<section id="schedule" aria-label="Schedule" class="py-20 sm:py-32">
  <Container class="relative z-10">
    <div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-4xl lg:pr-24">
      <h2 class="font-display text-4xl font-medium tracking-tighter text-blue-600 sm:text-5xl">
        Our three day schedule is jam-packed with brilliant, creative, evil
        geniuses.
      </h2>
      <p class="mt-4 font-display text-2xl tracking-tight text-blue-900">
        The worst people in our industry giving the best talks you've ever
        seen. Nothing will be recorded and every attendee has to sign an NDA
        to watch the talks.
      </p>
    </div>
  </Container>
  <div class="relative mt-14 sm:mt-24">
    <BackgroundImage position="right" class="-bottom-32 -top-40" />
    <Container class="relative">
      <!-- Static Schedule (Desktop) -->
      <div class="hidden lg:grid lg:grid-cols-3 lg:gap-x-8">
        {days.map((day) => (
          <section>
            <DaySummary date={day.date} summary={day.summary} />
            <TimeSlots timeSlots={day.timeSlots} date={day.date} className="mt-10" />
          </section>
        ))}
      </div>

      <!-- Tabbed Schedule (Mobile/Tablet) -->
      <div class="lg:hidden">
        <ScheduleTabGroup days={days} client:load />
      </div>
    </Container>
  </div>
</section> 